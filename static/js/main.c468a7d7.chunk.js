(this["webpackJsonpgoogly-eye"]=this["webpackJsonpgoogly-eye"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(11),i=n.n(s),r=(n(16),n(4)),o=(n(17),n(1));n(19);var l=n(3),u="PEN",d="ERASER",j="ERASER_PROPERTIES",v="BACKGROUND",b="SELECT",h={Pen:{isPenClicked:!1},Eraser:{isEraserClicked:!1,properties:{arcRadius:5}},Background:{isBackgroundClicked:!1},Select:{isSelected:!1}};function f(e,t){switch(t.type){case u:return Object(l.a)(Object(l.a)({},e),{},{Pen:Object(l.a)(Object(l.a)({},e.Pen),{},{isPenClicked:!e.Pen.isPenClicked}),Eraser:Object(l.a)(Object(l.a)({},e.Eraser),{},{isEraserClicked:!1}),Background:Object(l.a)(Object(l.a)({},e.Background),{},{isBackgroundClicked:!1}),Select:{isSelected:!1}});case d:return Object(l.a)(Object(l.a)({},e),{},{Eraser:Object(l.a)(Object(l.a)({},e.Eraser),{},{isEraserClicked:!e.Eraser.isEraserClicked}),Pen:Object(l.a)(Object(l.a)({},e.Pen),{},{isPenClicked:!1}),Background:Object(l.a)(Object(l.a)({},e.Background),{},{isBackgroundClicked:!1}),Select:{isSelected:!1}});case v:return Object(l.a)(Object(l.a)({},e),{},{Background:Object(l.a)(Object(l.a)({},e.Background),{},{isBackgroundClicked:!e.Background.isBackgroundClicked}),Eraser:Object(l.a)(Object(l.a)({},e.Eraser),{},{isEraserClicked:!1}),Pen:Object(l.a)(Object(l.a)({},e.Pen),{},{isPenClicked:!1}),Select:{isSelected:!1}});case b:return Object(l.a)(Object(l.a)({},e),{},{Select:{isSelected:!e.Select.isSelected},Background:Object(l.a)(Object(l.a)({},e.Background),{},{isBackgroundClicked:!1}),Eraser:Object(l.a)(Object(l.a)({},e.Eraser),{},{isEraserClicked:!1}),Pen:Object(l.a)(Object(l.a)({},e.Pen),{},{isPenClicked:!1})});case j:return Object(l.a)(Object(l.a)({},e),{},{Eraser:Object(l.a)(Object(l.a)({},e.Eraser),{},{properties:{arcRadius:t.payload}})});default:return e}}var O=c.a.createContext();var k=function(e){var t=e.children,n=Object(a.useReducer)(f,h),c=Object(r.a)(n,2),s=c[0],i=c[1],l={states:s,handlePenClick:function(){i({type:u})},handleEraserClick:function(){i({type:d})},handleBackgroundClick:function(){i({type:v})},handleSelection:function(){i({type:b})},handleEraserProperties:function(e){i({type:j,payload:e})}};return Object(o.jsx)(O.Provider,{value:l,children:t})};var g=function(){var e=Object(a.useContext)(O),t=Object(a.useState)({x:"",y:""}),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),u=l[0],d=l[1];function j(e){return 100*e/window.innerWidth<20?"20%":100*e/window.innerWidth>80?"80%":100*e/window.innerWidth+"%"}function v(e){return 100*e/window.innerHeight<20?"20%":100*e/window.innerHeight>80?"80%":100*e/window.innerHeight+"%"}return Object(a.useEffect)((function(){var e=new AbortController;return window.addEventListener("mousemove",(function(e){return s({x:j(e.clientX),y:v(e.clientY)})}),{signal:e.signal}),e.abort()}),[]),Object(o.jsx)("div",{className:"eye-container",onMouseMove:function(t){if(u&&e.states.Select.isSelected){var n=t.currentTarget;n.style.top=t.clientY+"px",n.style.left=t.clientX+"px"}},onMouseDown:function(t){if(e.states.Select.isSelected){var n=t.currentTarget;n.style.border="1px solid red",n.style.cursor="move",d(!0)}},onMouseUp:function(t){if(e.states.Select.isSelected){var n=t.currentTarget;n.style.border="",n.style.cursor="default",d(!1)}},children:Object(o.jsx)("div",{className:"Eye-ball",children:Object(o.jsx)("div",{className:"Irs",style:{left:c.x,top:c.y}})})})},w=(n(20),n(0)),x=n(8),C=n(5),p=n(6),y=function(){function e(t){Object(C.a)(this,e),e.canvas=t}return Object(p.a)(e,[{key:"handleMouseMoves",value:function(t){var n=t.nativeEvent;e.penDraw&&e.isDrawing?(e.canvas.lineTo(n.offsetX,n.offsetY),e.canvas.stroke()):e.eraser&&e.isErasing&&(console.log("Move "+n.offsetX+" "+n.offsetY),e.canvas.arc(n.offsetX,n.offsetY,10,0,2*Math.PI),e.canvas.stroke())}},{key:"handleMouseDown",value:function(t){var n=t.nativeEvent;e.penDraw?(console.log("Down"),e.isDrawing=!0,e.canvas.beginPath(),e.canvas.moveTo(n.offsetX,n.offsetY)):e.eraser&&(console.log("Down "+n.offsetX+" "+n.offsetY),e.isErasing=!0,e.canvas.beginPath(),e.canvas.moveTo(n.offsetX,n.offsetY))}},{key:"handleMouseUp",value:function(t){t.nativeEvent;e.penDraw?(console.log("Up"),e.isDrawing=!1,e.canvas.closePath()):e.eraser&&(e.isErasing=!1,e.canvas.closePath())}},{key:"setCanvas",set:function(t){e.canvas=t}},{key:"getCanvas",get:function(){return e.canvas}},{key:"startDrawing",value:function(t){e.penDraw=t}},{key:"stopDrawing",value:function(t){e.penDraw=t}},{key:"startErasing",value:function(t){e.canvas.globalCompositionOperation="destination-out",e.eraser=t}},{key:"stopErasing",value:function(t){e.canvas.globalCompositionOperation="source-over",e.eraser=t}}]),e}();y.canvas=null,y.penDraw=!1,y.isDrawing=!1,y.eraser=!1,y.isErasing=!1;var P=y,E=function(){function e(t,n){Object(C.a)(this,e),this.context=null,this.canvasViewModel=null,this.context=t,this.canvasViewModel=n}return Object(p.a)(e,[{key:"handlePenClick",value:function(){this.context.handlePenClick()}},{key:"getPenClick",value:function(){return this.context.states.Pen.isPenClicked}},{key:"defaultPenProperties",value:function(){this.setPenProperties("black",.7,"round")}},{key:"setPenProperties",value:function(e,t,n){var a=P.canvas;null!=a?(a.strokeStyle=e,a.lineWidth=t,a.cap=n):console.log("Canvas not initialized")}},{key:"startDrawing",value:function(){this.defaultPenProperties(),this.canvasViewModel.startDrawing(this.getPenClick())}},{key:"stopDrawing",value:function(){this.canvasViewModel.stopDrawing(this.getPenClick())}}]),e}();var M=function(e){var t=e.canvasViewModel,n=Object(a.useContext)(O),c=new E(n,t);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(w.b.Provider,{value:{title:"Pen",size:"2.3em",className:"react-icons"},children:Object(o.jsx)("button",{onClick:function(){c.handlePenClick()},children:c.getPenClick()?(c.startDrawing(),Object(o.jsx)(x.d,{})):(c.stopDrawing(),Object(o.jsx)(x.c,{}))})})})},m=n(9),S=function(){function e(t,n){Object(C.a)(this,e),this.context=null,this.canvasViewModel=null,this.context=t,this.canvasViewModel=n}return Object(p.a)(e,[{key:"handleEraserClick",value:function(){this.context.handleEraserClick()}},{key:"getEraserClick",value:function(){return this.context.states.Eraser.isEraserClicked}},{key:"defaultPenProperties",value:function(){this.setEraserProperties(10)}},{key:"setEraserProperties",value:function(e){var t=P.canvas;null!=t?(t.strokeStyle="white",t.lineWidth=3,t.fillStyle="white"):console.log("Canvas not initialized")}},{key:"startErasing",value:function(){this.defaultPenProperties(),this.canvasViewModel.startErasing(this.getEraserClick())}},{key:"stopErasing",value:function(){this.canvasViewModel.stopErasing(this.getEraserClick())}}]),e}();var B=function(e){var t=e.canvasViewModel,n=Object(a.useContext)(O),c=new S(n,t);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(w.b.Provider,{value:{size:"2.3em",className:"react-icons"},children:Object(o.jsx)("button",{onClick:function(){c.handleEraserClick()},children:c.getEraserClick()?(c.startErasing(),Object(o.jsx)(m.a,{})):(c.stopErasing(),Object(o.jsx)(m.b,{}))})})})},D=function(){function e(t,n){Object(C.a)(this,e),this.context=null,this.canvasViewModel=null,this.context=t,this.canvasViewModel=n}return Object(p.a)(e,[{key:"handleIconClick",value:function(){this.context.handleBackgroundClick()}},{key:"getIconClick",value:function(){return this.context.states.Background.isBackgroundClicked}},{key:"addBackground",value:function(){}}]),e}(),V=function(e){var t=e.canvasViewModel,n=Object(a.useContext)(O),c=new D(n,t);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(w.b.Provider,{value:{title:"Pen",size:"2.3em",className:"react-icons"},children:Object(o.jsx)("button",{onClick:function(){c.handleIconClick()},children:c.getIconClick()?(c.addBackground(),Object(o.jsx)(x.b,{})):Object(o.jsx)(x.a,{})})})})},N=n(23),I=n(24),R=function(){function e(t,n){Object(C.a)(this,e),this.context=null,this.canvasViewModel=null,this.context=t,this.canvasViewModel=n}return Object(p.a)(e,[{key:"handleIconClick",value:function(){this.context.handleSelection()}},{key:"getIconClick",value:function(){return this.context.states.Select.isSelected}},{key:"addBackground",value:function(){}}]),e}();var T=function(e){var t=e.canvasViewModel,n=Object(a.useContext)(O),c=new R(n,t);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(w.b.Provider,{value:{title:"Pen",size:"2.3em",className:"react-icons"},children:Object(o.jsx)("button",{onClick:function(){c.handleIconClick()},children:c.getIconClick()?Object(o.jsx)(N.a,{}):Object(o.jsx)(I.a,{})})})})},F=(n(25),function(e){var t=e.canvasViewModel,n=Object(a.useState)(!1),c=Object(r.a)(n,2);c[0],c[1];return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"sidebar",children:Object(o.jsxs)("div",{className:"sidebar-container",children:[Object(o.jsx)("div",{className:"sidebar-item",children:Object(o.jsx)(M,{canvasViewModel:t})}),Object(o.jsx)("div",{className:"sidebar-item",children:Object(o.jsx)(B,{canvasViewModel:t})}),Object(o.jsx)("div",{className:"sidebar-item",children:Object(o.jsx)(V,{canvasViewModel:t})}),Object(o.jsx)("div",{className:"sidebar-item",children:Object(o.jsx)(T,{canvasViewModel:t})})]})})})});var X=function(e){var t=e.canvasViewModel;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(k,{children:[Object(o.jsx)(g,{}),Object(o.jsx)(F,{canvasViewModel:t})]})})},Y=(n(21),"CANVAS"),A={Canvas:{canvas:null}};function z(e,t){return t.type!==Y?e:null!=e.Canvas.canvas?{Canvas:{canvas:t.payload}}:void 0}var U=c.a.createContext();var W=function(e){var t=e.children,n=Object(a.useReducer)(z,A),c=Object(r.a)(n,2),s=c[0],i=c[1],l={state:s,getCanvas:function(e){i({type:Y,payload:e})}};return Object(o.jsx)(U.Provider,{value:l,children:t})};var H=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useMemo)((function(){return new P(c)}),[c]);console.log("creating");var l=Object(a.useCallback)((function(t){if(null!=t&&e.current!==t){console.log("Rendered"),e.current=t,t.width=window.innerWidth,t.height=window.innerHeight;var n=t.getContext("2d");s(n)}}),[]);return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("canvas",{className:"canvas",ref:l,style:{position:"absolute"},onMouseMove:i.handleMouseMoves,onMouseDown:i.handleMouseDown,onMouseUp:i.handleMouseUp}),null!=c?Object(o.jsx)(W,{children:Object(o.jsx)(X,{canvasViewModel:i})}):Object(o.jsx)("h1",{children:"Null"})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(H,{})}),document.getElementById("root")),L()}],[[22,1,2]]]);
//# sourceMappingURL=main.c468a7d7.chunk.js.map